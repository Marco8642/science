local mt = getrawmetatable(game);
setreadonly(mt,false)
local namecall = mt.__namecall
mt.__namecall = newcclosure(function(self, ...)
    local Method = getnamecallmethod()
    local Args = {...}
    if Method == 'FireServer' and self.Name == "FireAircraftEvent" and Args[2] == "Crash"   then
return 
    end
    return namecall(self, ...) 
end)
warn("Anti afk running")
game:GetService("Players").LocalPlayer.Idled:connect(function()
warn("Anti afk ran")
game:GetService("VirtualUser"):CaptureController()
game:GetService("VirtualUser"):ClickButton2(Vector2.new())
end)
local function closestSupply()
local test
local maxdistance = math.huge
local plr = game.Players.LocalPlayer
for i,v in pairs(workspace.Camera:GetChildren()) do
  if v.Name == "SupplyDropRegion" then
  local dist = plr:DistanceFromCharacter(v.WorldPivot.Position)
  if dist < maxdistance then
    maxdistance = dist
    test = v
  end
end
end
return test
end
local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/Marco8642/science/main/ui%20libs2", true))()
local example = library:CreateWindow({
  text = "Flight World"
})
-- example:AddToggle("Auto Farm[Miles]", function(state)
--   getfenv().miles = (state and true or false)
-- while getfenv().miles  do
--   task.wait()
-- local plr = game.Players.LocalPlayer
-- local chr = plr.Character
-- local seat = chr.Humanoid.SeatPart
-- local plane = seat.Parent
-- local pos = plane.PrimaryPart.CFrame

-- repeat task.wait()
-- plane:PivotTo(pos)
-- task.wait(10)
-- until not getfenv().miles
-- end
-- end)

example:AddToggle("Auto Farm[Money]", function(state)
  getfenv().auto = (state and true or false)
 local planestuff = require(game:GetService("ReplicatedStorage").Client.AircraftClient)
rawset(planestuff.CurrentAircraft,"Throttle",0) 
while getfenv().auto  do
  task.wait()
local plr = game.Players.LocalPlayer
local chr = plr.Character
local seat = chr.Humanoid.SeatPart
local plane = seat.Parent
plane.PrimaryPart = plane.Main

if not workspace.Camera:FindFirstChild("Gate") and not workspace.Camera:findFirstChild("SupplyDropRegion")  then
local Event = game:GetService("ReplicatedStorage").Modules.Network.StartJob
Event:FireServer(
    "2"
)
local ticker = tick()
-- repeat task.wait()
-- plane.PrimaryPart.Velocity = Vector3.zero
-- until workspace.Camera:FindFirstChild("Gate") or tick()-ticker > 3 or not getfenv().auto
    else
 local test = workspace.Camera:FindFirstChild("Gate") or workspace.Camera:findFirstChild("SupplyDropRegion") 
  repeat task.wait()  
  if workspace.Camera:FindFirstChild("Gate") and getfenv().auto or workspace.Camera:findFirstChild("SupplyDropRegion") and getfenv().auto then
--plane:PivotTo(CFrame.new(workspace.Camera.Gate.WorldPivot.Position)+Vector3.new(0,5,0))
			speed1 = planestuff.CurrentAircraft.Tune.MaxSpeed*0.38
      speed = planestuff.CurrentAircraft.Tune.MaxSpeed -speed1
      local gate = workspace.Camera:findFirstChild("Gate") or workspace.Camera:findFirstChild("SupplyDropRegion") 
      local pos = CFrame.new(gate.WorldPivot.Position)+Vector3.new(0,2,0)
		  local dist = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position- pos.Position).magnitude
		 local TweenService = game:GetService("TweenService")
		 local TweenInfoToUse = TweenInfo.new(dist/speed, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, 0, false, 0)
		 
		 local TweenValue = Instance.new("CFrameValue")
		 TweenValue.Value = plane:GetPrimaryPartCFrame()
					 
		 TweenValue.Changed:Connect(function()
           if (TweenValue.Value.Position-pos.Position).magnitude > 50 then
            rawset(planestuff.CurrentAircraft,"Throttle",100) 
			 plane:PivotTo(CFrame.new(TweenValue.Value.Position+Vector3.new(0,500,0),pos.Position+Vector3.new(0,500,0)))
       
             else
              if planestuff.CurrentAircraft.States.CurrentSpeed > 0 then
              rawset(planestuff.CurrentAircraft,"Throttle",-100) 
              else
                rawset(planestuff.CurrentAircraft,"Throttle",0)
              end
                 plane.PrimaryPart.AssemblyLinearVelocity = Vector3.zero
                 plane:PivotTo(TweenValue.Value)
           end
               plane.PrimaryPart = plane.Main
-- local Event = game:GetService("ReplicatedStorage").Modules.Network.ReplicateAircraft
-- local check1 = test.X
-- local check2 = test.Z
-- if check1 > 100 then
--    check1 = 100
--  elseif check2 > 100 then
--      check2 = 100
--  end
--  if check1 < -100 then
--    check1 = -100
--  elseif check2 < -100 then
--      check2 = -100
--  end
-- Event:FireServer(
--     Vector3int16.new(check1, test.Y, check2)
-- )
			   --plane.PrimaryPart.AssemblyLinearVelocity = Vector3.zero

			 
		 end)
					 
		 getfenv().tween = TweenService:Create(TweenValue, TweenInfoToUse, {Value=pos})
		 getfenv().tween:Play()
				   getfenv().tween.Completed:Wait()
  end
  local gate = workspace.Camera:findFirstChild("Gate") or workspace.Camera:findFirstChild("SupplyDropRegion") 
  if test ~= workspace.Camera:FindFirstChild("Gate") and gate and plr:DistanceFromCharacter(gate.WorldPivot.Position) > 100  and getfenv().auto
  and not workspace.Camera:findFirstChild("SupplyDropRegion") then
  local Event = game:GetService("ReplicatedStorage").Modules.Network.JobEvent
Event:FireServer(
    "CompleteTask"
)
  end
  
until not workspace.Camera:FindFirstChild("Gate") and not workspace.Camera:findFirstChild("SupplyDropRegion") or not getfenv().auto
end
end
end)

example:AddToggle("Auto Delivery[Event]", function(state)
  getfenv().auto = (state and true or false)
 local planestuff = require(game:GetService("ReplicatedStorage").Client.AircraftClient)
rawset(planestuff.CurrentAircraft,"Throttle",0) 
while getfenv().auto  do
  task.wait()
local plr = game.Players.LocalPlayer
local chr = plr.Character
local seat = chr.Humanoid.SeatPart
local plane = seat.Parent
plane.PrimaryPart = plane.Main

if not workspace.Camera:FindFirstChild("Gate") and not workspace.Camera:findFirstChild("SupplyDropRegion")  then
local Event = game:GetService("ReplicatedStorage").Modules.Network.StartJob
Event:FireServer(
    "4"
)
local ticker = tick()
-- repeat task.wait()
-- plane.PrimaryPart.Velocity = Vector3.zero
-- until workspace.Camera:FindFirstChild("Gate") or tick()-ticker > 3 or not getfenv().auto
    else
 local test = workspace.Camera:FindFirstChild("Gate") or closestSupply() or workspace.Camera:findFirstChild("SupplyDropRegion") 
  repeat task.wait()  
  if workspace.Camera:FindFirstChild("Gate") and getfenv().auto or workspace.Camera:findFirstChild("SupplyDropRegion") and getfenv().auto then
--plane:PivotTo(CFrame.new(workspace.Camera.Gate.WorldPivot.Position)+Vector3.new(0,5,0))
			speed1 = planestuff.CurrentAircraft.Tune.MaxSpeed*0.38
      speed = planestuff.CurrentAircraft.Tune.MaxSpeed -speed1
      local gate = workspace.Camera:findFirstChild("Gate") or closestSupply() or workspace.Camera:findFirstChild("SupplyDropRegion") 
      if gate and gate.Name == "Gate" then
       speed = 100000
      end
      local pos = CFrame.new(gate.WorldPivot.Position)+Vector3.new(0,2,0)
		  local dist = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position- pos.Position).magnitude
		 local TweenService = game:GetService("TweenService")
		 local TweenInfoToUse = TweenInfo.new(dist/speed, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, 0, false, 0)
		 
		 local TweenValue = Instance.new("CFrameValue")
		 TweenValue.Value = plane:GetPrimaryPartCFrame()
					 
		 TweenValue.Changed:Connect(function()
           if (TweenValue.Value.Position-pos.Position).magnitude > 50 then
            rawset(planestuff.CurrentAircraft,"Throttle",100) 
			 plane:PivotTo(CFrame.new(TweenValue.Value.Position+Vector3.new(0,500,0),pos.Position+Vector3.new(0,500,0)))
       
             else
              if planestuff.CurrentAircraft.States.CurrentSpeed > 0 then
              rawset(planestuff.CurrentAircraft,"Throttle",-100) 
              else
                rawset(planestuff.CurrentAircraft,"Throttle",0)
              end
                 plane.PrimaryPart.AssemblyLinearVelocity = Vector3.zero
                 plane:PivotTo(TweenValue.Value)
           end
               plane.PrimaryPart = plane.Main

		 end)
					 
		 getfenv().tween = TweenService:Create(TweenValue, TweenInfoToUse, {Value=pos})
		 getfenv().tween:Play()
				   getfenv().tween.Completed:Wait()
  end
  local gate = workspace.Camera:findFirstChild("Gate") or workspace.Camera:findFirstChild("SupplyDropRegion") 
  if test ~= workspace.Camera:FindFirstChild("Gate") and gate and plr:DistanceFromCharacter(gate.WorldPivot.Position) > 100  and getfenv().auto
  and not workspace.Camera:findFirstChild("SupplyDropRegion") then
  local Event = game:GetService("ReplicatedStorage").Modules.Network.JobEvent
Event:FireServer(
    "CompleteTask"
)
  end
  
until not workspace.Camera:FindFirstChild("Gate") and not workspace.Camera:findFirstChild("SupplyDropRegion") or not getfenv().auto
end
end
end)

